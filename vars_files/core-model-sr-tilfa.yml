---

common:
  bgp_asn: 65000

nodes:
  - name: srlab-vmx1
    mgmt: 10.39.0.101
    rid: 192.168.0.1
    rid6: fec0:0:0:1111::1
    sid: 401
    sid6: 601
    iso: 49.0001.0010.0100.1001.00

  - name: srlab-vmx2
    mgmt: 10.39.0.102
    rid: 192.168.0.2
    rid6: fec0:0:0:1111::2
    sid: 402
    sid6: 602
    iso: 49.0001.0010.0100.1002.00

  - name: srlab-vmx3
    mgmt: 10.39.0.103
    rid: 192.168.0.3
    rid6: fec0:0:0:1111::3
    sid: 403
    sid6: 603
    iso: 49.0001.0010.0100.1003.00

  - name: srlab-vmx4
    mgmt: 10.39.0.104
    rid: 192.168.0.4
    rid6: fec0:0:0:1111::4
    sid: 404
    sid6: 604
    iso: 49.0001.0010.0100.1004.00

  - name: srlab-vmx5
    mgmt: 10.39.0.105
    rid: 192.168.0.5
    rid6: fec0:0:0:1111::5
    sid: 405
    sid6: 605
    iso: 49.0001.0010.0100.1005.00

  - name: srlab-vmx6
    mgmt: 10.39.0.106
    rid: 192.168.0.6
    rid6: fec0:0:0:1111::6
    sid: 406
    sid6: 606
    iso: 49.0001.0010.0100.1006.00

  - name: srlab-vmx7
    mgmt: 10.39.0.107
    rid: 192.168.0.7
    rid6: fec0:0:0:1111::7
    sid: 407
    sid6: 607
    iso: 49.0001.0010.0100.1007.00

  - name: srlab-vmx8
    mgmt: 10.39.0.108
    rid: 192.168.0.8
    rid6: fec0:0:0:1111::8
    sid: 408
    sid6: 608
    iso: 49.0001.0010.0100.1008.00

  - name: srlab-vmx9
    mgmt: 10.39.0.109
    rid: 192.168.0.9
    rid6: fec0:0:0:1111::9
    sid: 409
    sid6: 609
    iso: 49.0001.0010.0100.1009.00

lags:
  - node: srlab-vmx5
    intf: ae0
    ports: [ge-0/0/2, ge-0/0/3]
  - node: srlab-vmx7
    intf: ae0
    ports: [ge-0/0/2, ge-0/0/3]

# using the following for the lag ports. can't extract correct information
# from the links ae interfaces for lags
switches:
  - {left: srlab-vmx5, left_port: ge-0/0/2,
     right: srlab-vmx7, right_port: ge-0/0/2 } 
  - {left: srlab-vmx5, left_port: ge-0/0/3,
     right: srlab-vmx7, right_port: ge-0/0/3 } 

links:
  - {left: srlab-vmx1, left_port: ge-0/0/0, left_ip: 10.0.0.0,
      right: srlab-vmx2, right_port: ge-0/0/0, right_ip: 10.0.0.1, 
      mask: 31, cost: 1000, mpls: True, iso: True }

  - {left: srlab-vmx1, left_port: ge-0/0/1, left_ip: 10.0.0.2,
      right: srlab-vmx4, right_port: ge-0/0/1, right_ip: 10.0.0.3, 
      mask: 31, cost: 1000, mpls: True, iso: True }

  - {left: srlab-vmx1, left_port: ge-0/0/2, left_ip: 10.0.0.22,
      right: srlab-vmx3, right_port: ge-0/0/0, right_ip: 10.0.0.23, 
      mask: 31, cost: 2000, mpls: True, iso: True }

  - {left: srlab-vmx2, left_port: ge-0/0/1, left_ip: 10.0.0.4,
      right: srlab-vmx5, right_port: ge-0/0/1, right_ip: 10.0.0.5, 
      mask: 31, cost: 2000, mpls: True, iso: True }

  - {left: srlab-vmx3, left_port: ge-0/0/1, left_ip: 10.0.0.24,
      right: srlab-vmx6, right_port: ge-0/0/4, right_ip: 10.0.0.25, 
      mask: 31, cost: 1000, mpls: True, iso: True }

  - {left: srlab-vmx4, left_port: ge-0/0/0, left_ip: 10.0.0.6,
      right: srlab-vmx5, right_port: ge-0/0/0, right_ip: 10.0.0.7, 
      mask: 31, cost: 2000, mpls: True, iso: True }

  - {left: srlab-vmx4, left_port: ge-0/0/2, left_ip: 10.0.0.8,
      right: srlab-vmx6, right_port: ge-0/0/2, right_ip: 10.0.0.9, 
      mask: 31, cost: 1100, mpls: True, iso: True }

  - {left: srlab-vmx4, left_port: ge-0/0/3, left_ip: 10.0.0.10,
      right: srlab-vmx6, right_port: ge-0/0/3, right_ip: 10.0.0.11, 
      mask: 31, cost: 1000, mpls: True, iso: True }

  - {left: srlab-vmx5, left_port: ae0, left_ip: 10.0.0.12,
      right: srlab-vmx7, right_port: ae0, right_ip: 10.0.0.13, 
      mask: 31, cost: 500, mpls: True, iso: True }

  - {left: srlab-vmx6, left_port: ge-0/0/0, left_ip: 10.0.0.14,
      right: srlab-vmx7, right_port: ge-0/0/0, right_ip: 10.0.0.15, 
      mask: 31, cost: 1000, mpls: True, iso: True }

  - {left: srlab-vmx6, left_port: ge-0/0/1, left_ip: 10.0.0.16,
      right: srlab-vmx8, right_port: ge-0/0/1, right_ip: 10.0.0.17, 
      mask: 31, cost: 1000, mpls: True, iso: True }

  - {left: srlab-vmx7, left_port: ge-0/0/1, left_ip: 10.0.0.18,
      right: srlab-vmx9, right_port: ge-0/0/1, right_ip: 10.0.0.19, 
      mask: 31, cost: 1000, mpls: True, iso: True }

  - {left: srlab-vmx8, left_port: ge-0/0/0, left_ip: 10.0.0.20,
      right: srlab-vmx9, right_port: ge-0/0/0, right_ip: 10.0.0.21, 
      mask: 31, cost: 1000, mpls: True, iso: True }


bgp:
  rr: [192.168.0.4, 192.168.0.7]
  clients: [192.168.0.1, 192.168.0.2, 192.168.0.8, 192.168.0.9]
  af:
    - inet
    - inet6
    - inet-vpn

#isis:
#  network: p2p
