#
# Nodes in the network
#


---

common:
    bgp_asn: 65000
    gateway: 100.123.0.1

nodes:

  srtut-vmx:
    mgmt: 100.123.1.0
    rid:  10.10.10.10
    rid6:  fec0:0:0:1111::10
    sid: 410
    sid6: 610
    iso: 49.0001.0010.0100.1010.00
    ldp: True
    switches:
       - srtut-vmx-0--srtut-vmx1-0
       - srtut-vmx-1--srtut-vmx5-1
    links:
      ge-0/0/0.0: { ip: 10.0.101.10, remote: srtut-vmx1, mask: 24, cost: 1000, vlan: 0, mpls: True, iso: True}
      ge-0/0/1.0: { ip: 10.0.105.10, remote: srtut-vmx5, mask: 24, cost: 1000, vlan: 0, mpls: True, iso: True}
    bgp:
       ibgp:
         rr: true
         peers:
            - 2.2.2.2
            - 6.6.6.6
         af:
            - inet
            - inet6
            - inet-vpn

  srtut-vmx1:
    mgmt: 100.123.1.1
    rid:  1.1.1.1
    rid6:  fec0:0:0:1111::1
    sid: 401
    sid6: 601
    iso: 49.0001.0010.0100.1001.00
    ldp: True
    switches:
       - srtut-vmx-0--srtut-vmx1-0
       - srtut-vmx1-1--srtut-vmx2-1
       - srtut-vmx1-2--srtut-vmx3-2
    links:
      ge-0/0/0.0: { ip: 10.0.101.1, remote: srtut-vmx, mask: 24, cost: 1000, vlan: 0, mpls: True, iso: True}
      ge-0/0/1.0: { ip: 10.0.12.1, remote: srtut-vmx2, mask: 24, cost: 1000, vlan: 0, mpls: True, iso: True}
      ge-0/0/2.0: { ip: 10.0.13.1, remote: srtut-vmx3, mask: 24, cost: 1000, vlan: 0, mpls: True, iso: True}
    bgp:
       ibgp:
         peers:
            - 10.10.10.10
         af:
            - inet
            - inet6
            - inet-vpn

  srtut-vmx2:
    mgmt: 100.123.1.2
    rid:  2.2.2.2
    rid6:  fec0:0:0:1111::2
    sid: 402
    sid6: 602
    iso: 49.0001.0010.0100.1002.00
    ldp: True
    l3vpn: [{'rt': '100:100', 'name': 'BLUE', 'intf_ip': '100.100.100.2', 'rd': 100, 'intf': 'lo0.1'}]
    switches:
       - srtut-vmx1-1--srtut-vmx2-1
    links:
      ge-0/0/1.0: { ip: 10.0.12.2, remote: srtut-vmx1, mask: 24, cost: 1000, vlan: 0, mpls: True, iso: True}
    bgp:
       ibgp:
         peers:
            - 10.10.10.10
         af:
            - inet
            - inet6
            - inet-vpn

  srtut-vmx3:
    mgmt: 100.123.1.3
    rid:  3.3.3.3
    rid6:  fec0:0:0:1111::3
    sid: 403
    sid6: 603
    iso: 49.0001.0010.0100.1003.00
    ldp: True
    switches:
       - srtut-vmx1-2--srtut-vmx3-2
       - srtut-vmx3-1--srtut-vmx4-1
       - srtut-vmx3-0--srtut-vmx4-0
    links:
      ge-0/0/2.0: { ip: 10.0.13.3, remote: srtut-vmx1, mask: 24, cost: 1000, vlan: 0, mpls: True, iso: True}
      ge-0/0/1.0: { ip: 10.0.34.3, remote: srtut-vmx4, mask: 24, cost: 1000, vlan: 0, mpls: True, iso: True}
      ge-0/0/0.0: { ip: 10.0.34.33, remote: srtut-vmx4, mask: 24, cost: 1000, vlan: 0, mpls: True, iso: True}
    bgp:
       ibgp:
         peers:
            - 10.10.10.10
         af:
            - inet
            - inet6
            - inet-vpn

  srtut-vmx4:
    mgmt: 100.123.1.4
    rid:  4.4.4.4
    rid6:  fec0:0:0:1111::4
    sid: 404
    sid6: 604
    iso: 49.0001.0010.0100.1004.00
    ldp: True
    switches:
       - srtut-vmx3-1--srtut-vmx4-1
       - srtut-vmx3-0--srtut-vmx4-0
       - srtut-vmx4-2--srtut-vmx5-2
    links:
      ge-0/0/1.0: { ip: 10.0.34.4, remote: srtut-vmx3, mask: 24, cost: 1000, vlan: 0, mpls: True, iso: True}
      ge-0/0/0.0: { ip: 10.0.34.44, remote: srtut-vmx3, mask: 24, cost: 1000, vlan: 0, mpls: True, iso: True}
      ge-0/0/2.0: { ip: 10.0.45.4, remote: srtut-vmx5, mask: 24, cost: 1000, vlan: 0, mpls: True, iso: True}
    bgp:
       ibgp:
         peers:
            - 10.10.10.10
         af:
            - inet
            - inet6
            - inet-vpn

  srtut-vmx5:
    mgmt: 100.123.1.5
    rid:  5.5.5.5
    rid6:  fec0:0:0:1111::5
    sid: 405
    sid6: 605
    iso: 49.0001.0010.0100.1005.00
    ldp: True
    switches:
       - srtut-vmx-1--srtut-vmx5-1
       - srtut-vmx4-2--srtut-vmx5-2
       - srtut-vmx5-3--srtut-vmx6-3
    links:
      ge-0/0/1.0: { ip: 10.0.105.5, remote: srtut-vmx, mask: 24, cost: 1000, vlan: 0, mpls: True, iso: True}
      ge-0/0/2.0: { ip: 10.0.45.5, remote: srtut-vmx4, mask: 24, cost: 1000, vlan: 0, mpls: True, iso: True}
      ge-0/0/3.0: { ip: 10.0.56.5, remote: srtut-vmx6, mask: 24, cost: 1000, vlan: 0, mpls: True, iso: True}
    bgp:
       ibgp:
         peers:
            - 10.10.10.10
         af:
            - inet
            - inet6
            - inet-vpn

  srtut-vmx6:
    mgmt: 100.123.1.6
    rid:  6.6.6.6
    rid6:  fec0:0:0:1111::6
    sid: 406
    sid6: 606
    iso: 49.0001.0010.0100.1006.00
    ldp: True
    l3vpn: [{'rt': '100:100', 'name': 'BLUE', 'intf_ip': '100.100.100.6', 'rd': 100, 'intf': 'lo0.1'}]
    switches:
       - srtut-vmx5-3--srtut-vmx6-3
    links:
      ge-0/0/3.0: { ip: 10.0.56.6, remote: srtut-vmx5, mask: 24, cost: 1000, vlan: 0, mpls: True, iso: True}
    bgp:
       ibgp:
         peers:
            - 10.10.10.10
         af:
            - inet
            - inet6
            - inet-vpn
